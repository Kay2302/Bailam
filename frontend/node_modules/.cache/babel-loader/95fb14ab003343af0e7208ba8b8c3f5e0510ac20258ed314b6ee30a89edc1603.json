{"ast":null,"code":"// src/components/Cart.js\n// Thay đổi phần xử lý checkout để đồng bộ với API\n\nconst handleCheckout = () => {\n  if (cart.length === 0) {\n    alert('Giỏ hàng của bạn đang trống!');\n    return;\n  }\n  if (!isAuthenticated) {\n    // Lưu thông tin đơn hàng vào sessionStorage để khôi phục sau khi đăng nhập\n    sessionStorage.setItem('pendingCheckout', JSON.stringify({\n      items: cart,\n      subTotal,\n      discount,\n      shippingCost,\n      total,\n      shippingMethod\n    }));\n    if (window.confirm('Bạn cần đăng nhập để tiếp tục thanh toán. Chuyển đến trang đăng nhập?')) {\n      navigate('/login', {\n        state: {\n          returnUrl: '/checkout'\n        }\n      });\n    }\n    return;\n  }\n  try {\n    // Chuẩn bị thông tin đơn hàng\n    const orderSummary = {\n      items: cart,\n      subTotal,\n      discount,\n      shippingCost,\n      total,\n      shippingMethod\n    };\n\n    // Lưu vào sessionStorage để sử dụng ở trang Checkout\n    sessionStorage.setItem('orderSummary', JSON.stringify(orderSummary));\n\n    // Chuyển đến trang thanh toán\n    navigate('/checkout');\n  } catch (error) {\n    console.error('Error during checkout preparation:', error);\n    alert('Có lỗi xảy ra khi chuẩn bị thanh toán. Vui lòng thử lại.');\n  }\n};","map":{"version":3,"names":["handleCheckout","cart","length","alert","isAuthenticated","sessionStorage","setItem","JSON","stringify","items","subTotal","discount","shippingCost","total","shippingMethod","window","confirm","navigate","state","returnUrl","orderSummary","error","console"],"sources":["D:/UDW/BaiLam/frontend/src/components/Cart.js"],"sourcesContent":["// src/components/Cart.js\r\n// Thay đổi phần xử lý checkout để đồng bộ với API\r\n\r\nconst handleCheckout = () => {\r\n  if (cart.length === 0) {\r\n    alert('Giỏ hàng của bạn đang trống!');\r\n    return;\r\n  }\r\n  \r\n  if (!isAuthenticated) {\r\n    // Lưu thông tin đơn hàng vào sessionStorage để khôi phục sau khi đăng nhập\r\n    sessionStorage.setItem('pendingCheckout', JSON.stringify({\r\n      items: cart,\r\n      subTotal,\r\n      discount,\r\n      shippingCost,\r\n      total,\r\n      shippingMethod\r\n    }));\r\n    \r\n    if (window.confirm('Bạn cần đăng nhập để tiếp tục thanh toán. Chuyển đến trang đăng nhập?')) {\r\n      navigate('/login', { state: { returnUrl: '/checkout' } });\r\n    }\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    // Chuẩn bị thông tin đơn hàng\r\n    const orderSummary = {\r\n      items: cart,\r\n      subTotal,\r\n      discount,\r\n      shippingCost,\r\n      total,\r\n      shippingMethod\r\n    };\r\n    \r\n    // Lưu vào sessionStorage để sử dụng ở trang Checkout\r\n    sessionStorage.setItem('orderSummary', JSON.stringify(orderSummary));\r\n    \r\n    // Chuyển đến trang thanh toán\r\n    navigate('/checkout');\r\n  } catch (error) {\r\n    console.error('Error during checkout preparation:', error);\r\n    alert('Có lỗi xảy ra khi chuẩn bị thanh toán. Vui lòng thử lại.');\r\n  }\r\n};"],"mappings":"AAAA;AACA;;AAEA,MAAMA,cAAc,GAAGA,CAAA,KAAM;EAC3B,IAAIC,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;IACrBC,KAAK,CAAC,8BAA8B,CAAC;IACrC;EACF;EAEA,IAAI,CAACC,eAAe,EAAE;IACpB;IACAC,cAAc,CAACC,OAAO,CAAC,iBAAiB,EAAEC,IAAI,CAACC,SAAS,CAAC;MACvDC,KAAK,EAAER,IAAI;MACXS,QAAQ;MACRC,QAAQ;MACRC,YAAY;MACZC,KAAK;MACLC;IACF,CAAC,CAAC,CAAC;IAEH,IAAIC,MAAM,CAACC,OAAO,CAAC,uEAAuE,CAAC,EAAE;MAC3FC,QAAQ,CAAC,QAAQ,EAAE;QAAEC,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAY;MAAE,CAAC,CAAC;IAC3D;IACA;EACF;EAEA,IAAI;IACF;IACA,MAAMC,YAAY,GAAG;MACnBX,KAAK,EAAER,IAAI;MACXS,QAAQ;MACRC,QAAQ;MACRC,YAAY;MACZC,KAAK;MACLC;IACF,CAAC;;IAED;IACAT,cAAc,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAACY,YAAY,CAAC,CAAC;;IAEpE;IACAH,QAAQ,CAAC,WAAW,CAAC;EACvB,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC1DlB,KAAK,CAAC,0DAA0D,CAAC;EACnE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}