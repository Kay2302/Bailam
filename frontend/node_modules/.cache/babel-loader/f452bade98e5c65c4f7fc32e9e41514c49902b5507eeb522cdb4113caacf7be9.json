{"ast":null,"code":"// src/services/api.js\nimport axios from 'axios';\n\n// Create base axios instance with default config\nconst api = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 10000 // 10 seconds timeout\n});\n\n// Request interceptor for adding auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => response, error => {\n  // Handle session expiration\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    // You might want to redirect to login page here\n  }\n  return Promise.reject(error);\n});\n\n// Product API endpoints\nexport const productApi = {\n  getAll: () => api.get('/products'),\n  getById: id => api.get(`/products/${id}`),\n  getRelated: id => api.get(`/products/${id}/related`),\n  getByCategory: categoryId => api.get(`/products/category/${categoryId}`),\n  search: query => api.get(`/products/search?query=${query}`),\n  create: data => api.post('/products', data),\n  update: (id, data) => api.put(`/products/${id}`, data),\n  delete: id => api.delete(`/products/${id}`)\n};\n\n// Category API endpoints\nexport const categoryApi = {\n  getAll: () => api.get('/categories'),\n  getById: id => api.get(`/categories/${id}`),\n  create: data => api.post('/categories', data),\n  update: (id, data) => api.put(`/categories/${id}`, data),\n  delete: id => api.delete(`/categories/${id}`)\n};\n\n// Review API endpoints\nexport const reviewApi = {\n  getAll: () => api.get('/reviews'),\n  getByProductId: productId => api.get(`/reviews/${productId}`),\n  add: (productId, data) => api.post(`/reviews/${productId}`, data),\n  delete: id => api.delete(`/reviews/${id}`)\n};\n\n// Order API endpoints\nexport const orderApi = {\n  getAll: () => api.get('/orders'),\n  getById: id => api.get(`/orders/${id}`),\n  getUserOrders: userId => api.get(`/orders/user/${userId}`),\n  create: data => api.post('/orders', data),\n  updateStatus: (id, status) => api.put(`/orders/${id}/status`, {\n    status\n  }),\n  getStats: () => api.get('/orders/stats'),\n  getCustomers: () => api.get('/orders/customers')\n};\n\n// User API endpoints\nexport const userApi = {\n  register: data => api.post('/users/register', data),\n  login: (email, password) => api.post('/users/login', {\n    email,\n    password\n  }),\n  getProfile: id => api.get(`/users/${id}`),\n  updateProfile: (id, data) => api.put(`/users/${id}`, data),\n  changePassword: (id, currentPassword, newPassword) => api.put(`/users/${id}/password`, {\n    currentPassword,\n    newPassword\n  }),\n  getAllUsers: () => api.get('/users'),\n  verifyToken: () => api.get('/users/verify-token')\n};\n\n// Cart API endpoints\nexport const cartApi = {\n  getCart: userId => api.get(`/cart/${userId}`),\n  addToCart: (userId, productId, quantity) => api.post('/cart', {\n    userId,\n    productId,\n    quantity\n  }),\n  updateCartItem: (userId, productId, quantity) => api.put('/cart', {\n    userId,\n    productId,\n    quantity\n  }),\n  removeFromCart: (userId, productId) => api.delete(`/cart/${userId}/${productId}`),\n  clearCart: userId => api.delete(`/cart/${userId}`)\n};\n\n// Wishlist API endpoints\nexport const wishlistApi = {\n  getWishlist: userId => api.get(`/wishlist/${userId}`),\n  addToWishlist: (userId, productId) => api.post('/wishlist', {\n    userId,\n    productId\n  }),\n  removeFromWishlist: (userId, productId) => api.delete(`/wishlist/${userId}/${productId}`)\n};\n\n// Test login endpoint for development\nexport const testLogin = (email, password) => axios.post('http://localhost:5000/api/test-login', {\n  email,\n  password\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","headers","timeout","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","removeItem","productApi","getAll","get","getById","id","getRelated","getByCategory","categoryId","search","query","data","post","update","put","delete","categoryApi","reviewApi","getByProductId","productId","add","orderApi","getUserOrders","userId","updateStatus","getStats","getCustomers","userApi","register","login","email","password","getProfile","updateProfile","changePassword","currentPassword","newPassword","getAllUsers","verifyToken","cartApi","getCart","addToCart","quantity","updateCartItem","removeFromCart","clearCart","wishlistApi","getWishlist","addToWishlist","removeFromWishlist","testLogin"],"sources":["D:/UDW/BaiLam/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from 'axios';\r\n\r\n// Create base axios instance with default config\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  timeout: 10000 // 10 seconds timeout\r\n});\r\n\r\n// Request interceptor for adding auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    // Handle session expiration\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      // You might want to redirect to login page here\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Product API endpoints\r\nexport const productApi = {\r\n  getAll: () => api.get('/products'),\r\n  getById: (id) => api.get(`/products/${id}`),\r\n  getRelated: (id) => api.get(`/products/${id}/related`),\r\n  getByCategory: (categoryId) => api.get(`/products/category/${categoryId}`),\r\n  search: (query) => api.get(`/products/search?query=${query}`),\r\n  create: (data) => api.post('/products', data),\r\n  update: (id, data) => api.put(`/products/${id}`, data),\r\n  delete: (id) => api.delete(`/products/${id}`)\r\n};\r\n\r\n// Category API endpoints\r\nexport const categoryApi = {\r\n  getAll: () => api.get('/categories'),\r\n  getById: (id) => api.get(`/categories/${id}`),\r\n  create: (data) => api.post('/categories', data),\r\n  update: (id, data) => api.put(`/categories/${id}`, data),\r\n  delete: (id) => api.delete(`/categories/${id}`)\r\n};\r\n\r\n// Review API endpoints\r\nexport const reviewApi = {\r\n  getAll: () => api.get('/reviews'),\r\n  getByProductId: (productId) => api.get(`/reviews/${productId}`),\r\n  add: (productId, data) => api.post(`/reviews/${productId}`, data),\r\n  delete: (id) => api.delete(`/reviews/${id}`)\r\n};\r\n\r\n// Order API endpoints\r\nexport const orderApi = {\r\n  getAll: () => api.get('/orders'),\r\n  getById: (id) => api.get(`/orders/${id}`),\r\n  getUserOrders: (userId) => api.get(`/orders/user/${userId}`),\r\n  create: (data) => api.post('/orders', data),\r\n  updateStatus: (id, status) => api.put(`/orders/${id}/status`, { status }),\r\n  getStats: () => api.get('/orders/stats'),\r\n  getCustomers: () => api.get('/orders/customers')\r\n};\r\n\r\n// User API endpoints\r\nexport const userApi = {\r\n  register: (data) => api.post('/users/register', data),\r\n  login: (email, password) => api.post('/users/login', { email, password }),\r\n  getProfile: (id) => api.get(`/users/${id}`),\r\n  updateProfile: (id, data) => api.put(`/users/${id}`, data),\r\n  changePassword: (id, currentPassword, newPassword) => \r\n    api.put(`/users/${id}/password`, { currentPassword, newPassword }),\r\n  getAllUsers: () => api.get('/users'),\r\n  verifyToken: () => api.get('/users/verify-token')\r\n};\r\n\r\n// Cart API endpoints\r\nexport const cartApi = {\r\n  getCart: (userId) => api.get(`/cart/${userId}`),\r\n  addToCart: (userId, productId, quantity) => \r\n    api.post('/cart', { userId, productId, quantity }),\r\n  updateCartItem: (userId, productId, quantity) => \r\n    api.put('/cart', { userId, productId, quantity }),\r\n  removeFromCart: (userId, productId) => \r\n    api.delete(`/cart/${userId}/${productId}`),\r\n  clearCart: (userId) => api.delete(`/cart/${userId}`)\r\n};\r\n\r\n// Wishlist API endpoints\r\nexport const wishlistApi = {\r\n  getWishlist: (userId) => api.get(`/wishlist/${userId}`),\r\n  addToWishlist: (userId, productId) => \r\n    api.post('/wishlist', { userId, productId }),\r\n  removeFromWishlist: (userId, productId) => \r\n    api.delete(`/wishlist/${userId}/${productId}`)\r\n};\r\n\r\n// Test login endpoint for development\r\nexport const testLogin = (email, password) => \r\n  axios.post('http://localhost:5000/api/test-login', { email, password });\r\n\r\nexport default api;"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB,CAAC;EACDC,OAAO,EAAE,KAAK,CAAC;AACjB,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACL,OAAO,CAACS,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EACAK,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC;;AAED;AACAb,GAAG,CAACK,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1BS,QAAQ,IAAKA,QAAQ,EACrBH,KAAK,IAAK;EACT;EACA,IAAIA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IACnDP,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;IAChCR,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;IAC/B;EACF;EACA,OAAOJ,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA,OAAO,MAAMM,UAAU,GAAG;EACxBC,MAAM,EAAEA,CAAA,KAAMpB,GAAG,CAACqB,GAAG,CAAC,WAAW,CAAC;EAClCC,OAAO,EAAGC,EAAE,IAAKvB,GAAG,CAACqB,GAAG,CAAC,aAAaE,EAAE,EAAE,CAAC;EAC3CC,UAAU,EAAGD,EAAE,IAAKvB,GAAG,CAACqB,GAAG,CAAC,aAAaE,EAAE,UAAU,CAAC;EACtDE,aAAa,EAAGC,UAAU,IAAK1B,GAAG,CAACqB,GAAG,CAAC,sBAAsBK,UAAU,EAAE,CAAC;EAC1EC,MAAM,EAAGC,KAAK,IAAK5B,GAAG,CAACqB,GAAG,CAAC,0BAA0BO,KAAK,EAAE,CAAC;EAC7D3B,MAAM,EAAG4B,IAAI,IAAK7B,GAAG,CAAC8B,IAAI,CAAC,WAAW,EAAED,IAAI,CAAC;EAC7CE,MAAM,EAAEA,CAACR,EAAE,EAAEM,IAAI,KAAK7B,GAAG,CAACgC,GAAG,CAAC,aAAaT,EAAE,EAAE,EAAEM,IAAI,CAAC;EACtDI,MAAM,EAAGV,EAAE,IAAKvB,GAAG,CAACiC,MAAM,CAAC,aAAaV,EAAE,EAAE;AAC9C,CAAC;;AAED;AACA,OAAO,MAAMW,WAAW,GAAG;EACzBd,MAAM,EAAEA,CAAA,KAAMpB,GAAG,CAACqB,GAAG,CAAC,aAAa,CAAC;EACpCC,OAAO,EAAGC,EAAE,IAAKvB,GAAG,CAACqB,GAAG,CAAC,eAAeE,EAAE,EAAE,CAAC;EAC7CtB,MAAM,EAAG4B,IAAI,IAAK7B,GAAG,CAAC8B,IAAI,CAAC,aAAa,EAAED,IAAI,CAAC;EAC/CE,MAAM,EAAEA,CAACR,EAAE,EAAEM,IAAI,KAAK7B,GAAG,CAACgC,GAAG,CAAC,eAAeT,EAAE,EAAE,EAAEM,IAAI,CAAC;EACxDI,MAAM,EAAGV,EAAE,IAAKvB,GAAG,CAACiC,MAAM,CAAC,eAAeV,EAAE,EAAE;AAChD,CAAC;;AAED;AACA,OAAO,MAAMY,SAAS,GAAG;EACvBf,MAAM,EAAEA,CAAA,KAAMpB,GAAG,CAACqB,GAAG,CAAC,UAAU,CAAC;EACjCe,cAAc,EAAGC,SAAS,IAAKrC,GAAG,CAACqB,GAAG,CAAC,YAAYgB,SAAS,EAAE,CAAC;EAC/DC,GAAG,EAAEA,CAACD,SAAS,EAAER,IAAI,KAAK7B,GAAG,CAAC8B,IAAI,CAAC,YAAYO,SAAS,EAAE,EAAER,IAAI,CAAC;EACjEI,MAAM,EAAGV,EAAE,IAAKvB,GAAG,CAACiC,MAAM,CAAC,YAAYV,EAAE,EAAE;AAC7C,CAAC;;AAED;AACA,OAAO,MAAMgB,QAAQ,GAAG;EACtBnB,MAAM,EAAEA,CAAA,KAAMpB,GAAG,CAACqB,GAAG,CAAC,SAAS,CAAC;EAChCC,OAAO,EAAGC,EAAE,IAAKvB,GAAG,CAACqB,GAAG,CAAC,WAAWE,EAAE,EAAE,CAAC;EACzCiB,aAAa,EAAGC,MAAM,IAAKzC,GAAG,CAACqB,GAAG,CAAC,gBAAgBoB,MAAM,EAAE,CAAC;EAC5DxC,MAAM,EAAG4B,IAAI,IAAK7B,GAAG,CAAC8B,IAAI,CAAC,SAAS,EAAED,IAAI,CAAC;EAC3Ca,YAAY,EAAEA,CAACnB,EAAE,EAAEN,MAAM,KAAKjB,GAAG,CAACgC,GAAG,CAAC,WAAWT,EAAE,SAAS,EAAE;IAAEN;EAAO,CAAC,CAAC;EACzE0B,QAAQ,EAAEA,CAAA,KAAM3C,GAAG,CAACqB,GAAG,CAAC,eAAe,CAAC;EACxCuB,YAAY,EAAEA,CAAA,KAAM5C,GAAG,CAACqB,GAAG,CAAC,mBAAmB;AACjD,CAAC;;AAED;AACA,OAAO,MAAMwB,OAAO,GAAG;EACrBC,QAAQ,EAAGjB,IAAI,IAAK7B,GAAG,CAAC8B,IAAI,CAAC,iBAAiB,EAAED,IAAI,CAAC;EACrDkB,KAAK,EAAEA,CAACC,KAAK,EAAEC,QAAQ,KAAKjD,GAAG,CAAC8B,IAAI,CAAC,cAAc,EAAE;IAAEkB,KAAK;IAAEC;EAAS,CAAC,CAAC;EACzEC,UAAU,EAAG3B,EAAE,IAAKvB,GAAG,CAACqB,GAAG,CAAC,UAAUE,EAAE,EAAE,CAAC;EAC3C4B,aAAa,EAAEA,CAAC5B,EAAE,EAAEM,IAAI,KAAK7B,GAAG,CAACgC,GAAG,CAAC,UAAUT,EAAE,EAAE,EAAEM,IAAI,CAAC;EAC1DuB,cAAc,EAAEA,CAAC7B,EAAE,EAAE8B,eAAe,EAAEC,WAAW,KAC/CtD,GAAG,CAACgC,GAAG,CAAC,UAAUT,EAAE,WAAW,EAAE;IAAE8B,eAAe;IAAEC;EAAY,CAAC,CAAC;EACpEC,WAAW,EAAEA,CAAA,KAAMvD,GAAG,CAACqB,GAAG,CAAC,QAAQ,CAAC;EACpCmC,WAAW,EAAEA,CAAA,KAAMxD,GAAG,CAACqB,GAAG,CAAC,qBAAqB;AAClD,CAAC;;AAED;AACA,OAAO,MAAMoC,OAAO,GAAG;EACrBC,OAAO,EAAGjB,MAAM,IAAKzC,GAAG,CAACqB,GAAG,CAAC,SAASoB,MAAM,EAAE,CAAC;EAC/CkB,SAAS,EAAEA,CAAClB,MAAM,EAAEJ,SAAS,EAAEuB,QAAQ,KACrC5D,GAAG,CAAC8B,IAAI,CAAC,OAAO,EAAE;IAAEW,MAAM;IAAEJ,SAAS;IAAEuB;EAAS,CAAC,CAAC;EACpDC,cAAc,EAAEA,CAACpB,MAAM,EAAEJ,SAAS,EAAEuB,QAAQ,KAC1C5D,GAAG,CAACgC,GAAG,CAAC,OAAO,EAAE;IAAES,MAAM;IAAEJ,SAAS;IAAEuB;EAAS,CAAC,CAAC;EACnDE,cAAc,EAAEA,CAACrB,MAAM,EAAEJ,SAAS,KAChCrC,GAAG,CAACiC,MAAM,CAAC,SAASQ,MAAM,IAAIJ,SAAS,EAAE,CAAC;EAC5C0B,SAAS,EAAGtB,MAAM,IAAKzC,GAAG,CAACiC,MAAM,CAAC,SAASQ,MAAM,EAAE;AACrD,CAAC;;AAED;AACA,OAAO,MAAMuB,WAAW,GAAG;EACzBC,WAAW,EAAGxB,MAAM,IAAKzC,GAAG,CAACqB,GAAG,CAAC,aAAaoB,MAAM,EAAE,CAAC;EACvDyB,aAAa,EAAEA,CAACzB,MAAM,EAAEJ,SAAS,KAC/BrC,GAAG,CAAC8B,IAAI,CAAC,WAAW,EAAE;IAAEW,MAAM;IAAEJ;EAAU,CAAC,CAAC;EAC9C8B,kBAAkB,EAAEA,CAAC1B,MAAM,EAAEJ,SAAS,KACpCrC,GAAG,CAACiC,MAAM,CAAC,aAAaQ,MAAM,IAAIJ,SAAS,EAAE;AACjD,CAAC;;AAED;AACA,OAAO,MAAM+B,SAAS,GAAGA,CAACpB,KAAK,EAAEC,QAAQ,KACvClD,KAAK,CAAC+B,IAAI,CAAC,sCAAsC,EAAE;EAAEkB,KAAK;EAAEC;AAAS,CAAC,CAAC;AAEzE,eAAejD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}